# Тестовое задание для стажёра Backend-направления (весенняя волна 2025)

Запуск сервиса

```sh
# Сгенерируем ключи для JWT
make make_jwt_keys
# Запустим контейнеры в docker-compose
docker-compose up
```

## Архитектура сервиса

Используется clean-architecture с четким разделением на слои:
- сущности - internal/model
- сценарии - internal/usecase
- интерфейс-адаптеры и фреймворки/драйверы - internal/infrastructure, internal/repository, internal/api

## Качество кода

Для проверки качества кода используется [golangci-lint](https://github.com/golangci/golangci-lint)
с расширенным набором линтеров. Нужно установить его в системный path и запускать `make lint`.

Тестовое покрытие (с учетом интеграционных тестов репозиториев) - `75.7%`.
Можно проверить командой `make test-total-cover`, предварительно подняв БД.

Интеграционные тесты API расположены в `test/integration`, можно отдельно запустить используя `make test-api`,
покрыты все основные сценарии.

Для репозиториев `./internal/repository` используются интеграционные тесты, которые проверяют работу с базой данных.

## Вопросы появившиеся при решении

- Что подразумевается под лимитом в ендпоинте `GET /pvz`?

Под лимитом в ендпоинте `GET /pvz` подразумевается количество возвращаемых приемок.

- Должен ли ендпоинт `GET /pvz` фильтровать по статусу приемки?

Нет, клиент сам может отфильтровать результаты по статусу.

## Дополнительные требования

* [x] Метрики prometheus. Prometheus сервер поднят на порту 9000 (по умолчанию),
записываются бизнес-метрики `pvz_registered_count`, `reception_created_count`, `product_added_count counter`
и технические метрики `http_requests_total` и `http_response_time`
с разбиением по лейблам `endpoint` и `status_code`.

`
